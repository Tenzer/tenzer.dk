<!DOCTYPE html><html lang=en><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Updating an OpenSolaris zone - Tenzer.dk</title><meta name=description content="The personal website and blog for Jeppe Toustrup about open source technologies and photography."><meta name=generator content="Hugo 0.18.1"><style>body{background-color:#ecf0f1;color:#2c3e50;font-family:Georgia,serif;font-size:20px;line-height:1.6em;margin:0}a{color:#e74c3c;text-decoration:none}a h1{color:#2c3e50}hr{color:#8c97a1}header{background:#2c3e50;color:#ecf0f1;text-align:left}.header-container{margin:auto;max-width:700px;padding:10px}#logo{margin:10px 0;max-height:60px;max-width:100%}nav{display:-webkit-flex;display:flex;font-size:1rem;margin-bottom:20px;max-width:400px}nav a{color:#e74c3c}nav a,nav span{-webkit-flex:1;flex:1}nav span.disabled{color:#8c97a1}.container{background-image:linear-gradient(rgba(44,62,80,.4),rgba(44,62,80,0));background-image:-webkit-linear-gradient(top,rgba(44,62,80,.4),rgba(44,62,80,0));background-repeat:repeat-x;background-size:auto 20px;padding-top:20px}.content{margin:auto;max-width:700px;padding:0 10px}.content img{display:block;margin:auto;max-width:100%}.posted-date{color:#8c97a1;font-size:1rem;margin-top:0}h1{line-height:1;margin-bottom:.5rem}pre{background-color:#f5f7f7;border:1px dashed #cfd9db;max-width:700px;overflow:auto;padding:5px 10px}pre code{background-color:inherit;border:none;padding:0}code{background-color:#f5f7f7;border:1px dashed #cfd9db;padding:5px}blockquote{border-left:3px solid #507192;color:#3e5871;font-style:italic;margin-left:20px;padding-left:10px}ul li{list-style-type:circle}.admonition-title{font-weight:700}.admonition{border:1px solid #2c3e50;border-radius:3px;margin:20px 0;padding:0 5px}.admonition p:first-child{margin-top:5px}.admonition p:last-child{margin-bottom:5px}.admonition.attention,.admonition.warning{background-color:#ffd34e}footer{font-size:15px;margin:auto;max-width:700px;text-align:center}@media print{footer,header{display:none}}</style><link rel=logo href=/static/favicon.3dada7eb0a.svg type=image/svg+xml><link rel=icon href=/static/favicon.3dada7eb0a.svg sizes=any type=image/svg+xml><link rel=icon href=/static/favicon.e5c65e608b.png sizes=128x128 type=image/png><link rel=icon href=/static/favicon.a23706216d.ico sizes="16x16 32x32 48x48 64x64" type=image/x-icon><link rel=alternate href=https://tenzer.dk/index.xml type=application/rss+xml title=Tenzer.dk><meta property=og:type content=website><meta property=og:url content=https://tenzer.dk/updating-an-opensolaris-zone/ ><meta property=og:site_name content=Tenzer.dk><meta property=og:title content="Updating an OpenSolaris zone - Tenzer.dk"><meta property=og:description content="This is just a quick guide for people who need to update an OpenSolaris zone. First off, you need to shutdown the zone. This can either by done by using init 5 or shutdown inside the zone, or by running any of the two commands with zlogin from the global zone. A final not recommended possibility is to run zoneadm -z &lt;zonename&gt; halt from the global zone.
After the zone is stopped, you will have to set the zone state to “ready”, in order for the file systems to be mounted:"><meta property=og:image content=https://tenzer.dk/images/logo.png><meta name=twitter:card content=summary><meta name=twitter:site content=@Tenzer><meta name=twitter:title content="Updating an OpenSolaris zone - Tenzer.dk"><meta name=twitter:description content="This is just a quick guide for people who need to update an OpenSolaris zone. First off, you need to shutdown the zone. This can either by done by using init 5 or shutdown inside the zone, or by running any of the two commands with zlogin from the global zone. A final not recommended possibility is to run zoneadm -z &lt;zonename&gt; halt from the global zone.
After the zone is stopped, you will have to set the zone state to “ready”, in order for the file systems to be mounted:"><meta name=twitter:image content=https://tenzer.dk/images/logo.png></head><body><header><div class=header-container><a href=/ ><img id=logo src=/static/tenzerdk.90021cd24c.png alt="Tenzer.dk logo"></a></div></header><div class=container><div class=content><a href=/updating-an-opensolaris-zone/ ><h1>Updating an OpenSolaris zone</h1></a><p class=posted-date>Posted on October 4, 2009</p><p>This is just a quick guide for people who need to update an OpenSolaris zone. First off, you need to shutdown the zone. This can either by done by using <code>init 5</code> or <code>shutdown</code> inside the zone, or by running any of the two commands with <code>zlogin</code> from the global zone. A final not recommended possibility is to run <code>zoneadm -z &lt;zonename&gt; halt</code> from the global zone.</p><p>After the zone is stopped, you will have to set the zone state to “ready”, in order for the file systems to be mounted:</p><div class=highlight style=background:#f8f8f8><pre style=line-height:125%><span></span>zoneadm -z &lt;zonename&gt; ready
</pre></div><p>Then you can start the update procedure:</p><div class=highlight style=background:#f8f8f8><pre style=line-height:125%><span></span>pkg -R &lt;path to zone&gt;/root image-update
</pre></div><p>And lastly, when the zone is upgraded you can boot up the zone again:</p><div class=highlight style=background:#f8f8f8><pre style=line-height:125%><span></span>zoneadm -z &lt;zonename&gt; boot
</pre></div></div></div><footer>Copyright © 2017 <a href=https://twitter.com/Tenzer>Jeppe Toustrup</a> unless otherwise noted.</footer></body></html>